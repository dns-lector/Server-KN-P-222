CGI - Common Gateway Iterface - Інтерфейс спільного шлюзу
Стандарт (інтерфейс) для веб-серверів, який передбачає
передачу управління з оброблення запиту до довільного виконавця.

Більшість популярних серверів призначені для однієї технології:
IIS, Kestel - .NET
Tomcat, Wildfly - Java
Apache - PHP
В цьому контексті CGI - можливість використання серверів для інших технологій

---Browser(Client)---    -----------------Server--------------------
                          ---web-server---        ---CGI-script---

GET / HTTP/1.1 ----------> { path: '/'
                             method: 'GET'     CGI
                             protocol: 1.1} --------> index.py
                                                      print("<h1>Hello</h1>")    
    <---------------------- + header     <----------- print("<h1>World</h1>") 


Налаштування (на прикладі Apache з конфігурацією від XAMPP)
- Встановлюємо XAMPP (Apache) 
- Пересвідчуємось в успішного запуску Apache, переходимо до його налаштувань
   Apache -- Config - <Browse>[Apache] 
   Переходимо /conf/extra, відкриваємо у текст.редакторі httpd-vhosts.conf
- Додаємо опис віртуального хосту (локального сайту) за зразком:
################# KN-P-222 ###########################
<VirtualHost *:80>                                                                       | Блок опису (порт 80 - http, 443 - https)
    ServerAdmin webmaster@localhost                                                      | Для сторінки помилок
    DocumentRoot "C:/Users/Lector/source/repos/Server-KN-P-222/cgi"                      | Директорія сайту
    ServerName cgi222.loc                                                                | Назва сайту
    ServerAlias www.cgi222.loc                                                           | Псевдонім (альтернативна назва)
    ErrorLog "C:/Users/Lector/source/repos/Server-KN-P-221/cgi/logs/error.log"           | Лог-файл помилок
    CustomLog "C:/Users/Lector/source/repos/Server-KN-P-221/cgi/logs/access.log" common  | Лог-файл доступу
	<Directory "C:/Users/Lector/source/repos/Server-KN-P-221/cgi">                       | Налаштування директорії
		AllowOverride All                                                                | 
		Options -Indexes +ExecCGI                                                        | дозвіл на роботу CGI
		AddHandler cgi-script  .py                                                       | реєстрація ".py" як CGI скриптів
		Require all granted                                                              | доступ без паролів
		DirectoryIndex index.py index.html                                               | порядок пошуку індексних файлів
	</Directory>                                                                         | 
</VirtualHost>                                                                               

- створюємо директорію для логів (cgi/logs) - як зазначено в описі, файли - не створюємо
- (пере)запускаємо Apache, перевірка - сервер запускається та з'являються файли-логи


- додаємо до директорії сайту index.html з вітальним вмістом


= налаштовуємо локальну DNS
= знаходимо файл і відкриваємо у текстовому редакторі як адміністратор
   C:\Windows\System32\drivers\etc\hosts   (/etc/hosts)
= додаємо записи:
    127.0.0.1       cgi222.loc
	::1             cgi222.loc
	127.0.0.1       www.cgi222.loc
	::1             www.cgi222.loc
= зберігаємо файл (переконуємось у збереженні, оскільки вимагає адмін.прав)
= у браузері набираємо http://cgi222.loc  (http:// потрібно набрати, 
   оскільки .loc не стандарт і браузер перейде у пошук)

--------------- CGI підключення Python --------------------
- Створюємо файл index.py в директорії проєкта (сайту)
- Знаходимо у файловій системі python.exe (інтерпретатор Пайтона), 
   копіюємо шлях до нього
- Вставляємо на початку файлу index.py рядок:
   #!C:\Python\Python313\python.exe
  За традиціями CGI це задає виконавчий файл для скрипта
- Скрипт повністю формує відповідь сервера, у т.ч. заголовки,
  відповідь передається шляхом виведення до стандартного потоку (print)   

-------------------- Диспетчер доступу -------------------------
ДД - вимога безпеки, яка полягає у наявності єдиної "точки" через яку 
проходять усі звернення до системи. Звернення, що надходять повз ДД, 
мають бути заблоковані (ігноровані).
Оскільки в режимі CGI доступом керує сервер, необхідно змінювати його 
налаштування:
 - створюємо у корні проєкту файл .htaccess
 - переіменовуємо index.py (або створюємо, якщо немає) access_manager.py